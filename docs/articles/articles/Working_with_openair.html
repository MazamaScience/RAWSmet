<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Working With openair • RAWSmet</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Working With openair">
<meta property="og:description" content="RAWSmet">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">RAWSmet</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../articles/RAWSmet.html">Get started</a>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/articles/Identifying_Unique_Locations.html">Identifying Unique Locations</a>
    </li>
    <li>
      <a href="../../articles/articles/Working_with_openair.html">Working With openair</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/MazamaScience/RAWSmet/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Working_with_openair_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Working With openair</h1>
                        <h4 class="author">Eli Grosman</h4>
            
            <h4 class="date">August 18, 2020</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/MazamaScience/RAWSmet/blob/master/vignettes/articles/Working_with_openair.Rmd"><code>vignettes/articles/Working_with_openair.Rmd</code></a></small>
      <div class="hidden name"><code>Working_with_openair.Rmd</code></div>

    </div>

    
    
<div id="background" class="section level2">
<h2 class="hasAnchor">
<a href="#background" class="anchor"></a>Background</h2>
<p>The <strong>RAWSmet</strong> package was developed with the intent to make downloading and working with weather data gathered by RAWS stations simpler. Using this package in conjunction with the <strong>openair</strong> package can make some beautiful and informative visualizations of RAWS data.</p>
<p><a href="https://davidcarslaw.github.io/openair/"><strong>Openair</strong></a> is an R package designed specifically for modeling air quality data. The package provides many different tools for plotting wind and pollution roses, flexible time series plots, and more. Additionally, <strong>openair</strong> can easily group data and plot it by different periods such as by the hour, day, day of the week, season, and year. More information and documentation for <strong>openair</strong> may be found on its website: <a href="https://davidcarslaw.github.io/openair/" class="uri">https://davidcarslaw.github.io/openair/</a>.</p>
<p>The goal of this document is to introduce the use of <strong>RAWSmet</strong> and <strong>openair</strong> to create visualizations of weather data. Additionally, this document may be used as a reference for using <strong>RAWSmet</strong> effectively for analyzing RAWS data.</p>
</div>
<div id="setting-up-rawsmet" class="section level2">
<h2 class="hasAnchor">
<a href="#setting-up-rawsmet" class="anchor"></a>Setting up RAWSmet</h2>
<p>Follow these instructions to set up <strong>RAWSmet</strong> correctly. These instruction may also be found on the package’s website: <a href="https://mazamascience.github.io/RAWSmet/" class="uri">https://mazamascience.github.io/RAWSmet/</a>.</p>
<p>To follow along with the rest of this document you may also install <strong>openair</strong> by running the following in the RStudio console:</p>
<pre><code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages("openair")</a></code></pre>
<p>This package is designed to be used with <a href="https://cran.r-project.org">R</a> (&gt;= 3.3) and <a href="https://www.rstudio.com">RStudio</a> so make sure you have those installed first.</p>
<p>Users will want to install the <strong>remotes</strong> package to have access to the latest version of the package from GitHub.</p>
<p>The following packages should be installed by typing the following at the RStudio console:</p>
<pre><code><a href="https://rdrr.io/r/utils/install.packages.html"># Note that vignettes require knitr and rmarkdown
install.packages('knitr')
install.packages('rmarkdown')
install.packages('MazamaSpatialUtils')
remotes::install_github('MazamaScience/MazamaLocationUtils')
devtools::install_github('MazamaScience/RAWSmet')</a></code></pre>
<p>Any work with spatial data, <em>e.g.</em> assigning states, counties and timezones, will require installation of required spatial datasets. To get these datasets you should type the following at the RStudio console:</p>
<pre><code><a href="https://rdrr.io/pkg/MazamaSpatialUtils/man">library(MazamaSpatialUtils)
dir.create('~/Data/Spatial', recursive = TRUE)
setSpatialDataDir('~/Data/Spatial')
installSpatialData()</a></code></pre>
<p>Data generated with package functions can be be saved and reloaded in a dedicated directory much the same as the <code>spatialDataDir</code> used above:</p>
<pre><code><a href="https://rdrr.io/pkg/RAWSmet/man">library(RAWSmet)
dir.create('~/Data/RAWS', recursive = TRUE)
setRawsDataDir('~/Data/RAWS')</a></code></pre>
<p>The <code>rawsDataDir</code> must be set up correctly to use its functionality. RAWS data takes a long time to download so data may be saved to this directory so it does not need to be downloaded again in the future.</p>
</div>
<div id="preparing-data-for-openair" class="section level2">
<h2 class="hasAnchor">
<a href="#preparing-data-for-openair" class="anchor"></a>Preparing data for openair</h2>
<p>Before using RAWS data with <strong>openair</strong>, we must ensure that the data is downloaded correctly and is in the correct format.</p>
<p>First, create a RAWS timeseries object using <strong>RAWSmet</strong>’s <code><a href="../../reference/fw13_createTimeseriesObject.html">fw13_createTimeseriesObject()</a></code> function (or <code><a href="../../reference/wrcc_createTimeseriesObject.html">wrcc_createTimeseriesObject()</a></code> for current RAWS data from the WRCC).</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">RAWSmet</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">MazamaSpatialUtils</span>)

<span class="fu"><a href="../../reference/setRawsDataDir.html">setRawsDataDir</a></span>(<span class="st">"~/Data/RAWS"</span>)
<span class="fu"><a href="https://rdrr.io/pkg/MazamaSpatialUtils/man/setSpatialDataDir.html">setSpatialDataDir</a></span>(<span class="st">"~/Data/Spatial"</span>)

<span class="no">meta</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../../reference/fw13_createMetadata.html">fw13_createMetadata</a></span>()
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">meta</span>)</pre></body></html></div>
<pre><code>## # A tibble: 6 x 8
##   nwsID  longitude latitude elevation siteName   countryCode stateCode timezone 
##   &lt;chr&gt;      &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;    
## 1 021503    -114.      34.1       360 AHAKAHV P… US          AZ        America/…
## 2 500726    -141.      62.8      1800 ALCAN HWY… US          AK        America/…
## 3 020401    -109.      33.8      8188 ALPINE     US          AZ        America/…
## 4 500742    -146.      65.0      1100 ANGEL CRE… US          AK        America/…
## 5 032101     -92.8     35.6      1600 ARMSTEAD … US          AR        America/…
## 6 010702     -87.3     34.3       989 BANKHD     US          AL        America/…</code></pre>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="co"># nwsID 451702 is Enumclaw, WA</span>
<span class="no">enumclawTSObj</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../../reference/fw13_createTimeseriesObject.html">fw13_createTimeseriesObject</a></span>(<span class="kw">nwsID</span> <span class="kw">=</span> <span class="fl">451702</span>, <span class="kw">meta</span> <span class="kw">=</span> <span class="no">meta</span>)</pre></body></html></div>
<p>This timeseries object contains two dataframes, one of station metadata and another of cleaned weather data.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">enumclawTSObj</span>)</pre></body></html></div>
<pre><code>## [1] "meta" "data"</code></pre>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="co"># View station metadata</span>
<span class="no">enumclawTSObj</span>$<span class="no">meta</span></pre></body></html></div>
<pre><code>## # A tibble: 1 x 8
##   nwsID  longitude latitude elevation siteName countryCode stateCode timezone   
##   &lt;chr&gt;      &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;      
## 1 451702     -122.     47.2       742 ENUMCLAW US          WA        America/Lo…</code></pre>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="co"># View sample of raw data</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">enumclawTSObj</span>$<span class="no">data</span>)</pre></body></html></div>
<pre><code>## # A tibble: 6 x 9
##   datetime            temperature humidity windSpeed windDirection maxGustSpeed
##   &lt;dttm&gt;                    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;
## 1 2004-01-06 03:00:00        23.5     28.5        11           170           20
## 2 2004-01-06 04:00:00        26       28.5        12           167           23
## 3 2004-01-06 05:00:00        28.5     28.5        10           165           27
## 4 2004-01-06 07:00:00        28.5     29           7            29            9
## 5 2004-01-06 08:00:00        28.5     34.5         7            25           11
## 6 2004-01-06 09:00:00        28.5     34.5         7            22           11
## # … with 3 more variables: maxGustDirection &lt;dbl&gt;, precipitation &lt;dbl&gt;,
## #   solarRadiation &lt;dbl&gt;</code></pre>
<p><strong>Openair</strong> requires that dates and times of observations are stored in a column called <code>date</code>. However, <strong>RAWSmet</strong> names this column <code>datetime</code>. Create the correct date column by running:</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)

<span class="co"># Create a new column by copying the data from datetime</span>
<span class="no">enumclawTSObj</span>$<span class="no">data</span>$<span class="no">date</span> <span class="kw">&lt;-</span> <span class="no">enumclawTSObj</span>$<span class="no">data</span>$<span class="no">datetime</span>

<span class="co"># Another solution is to rename the column using dplyr:</span>
<span class="co"># enumclawTSObj$data &lt;- dplyr::rename(enumclawTSObj$data, date = datetime)</span></pre></body></html></div>
<p>Note that this RAWS timeseries object contains <em>all</em> of the data gathered by the specified station in its lifetime. We can filter the data to look at periods of interest. It is also important to note that the datetimes stored in these RAWS timeseries objects are in UTC.</p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">MazamaCoreUtils</span>)
<span class="co"># 20050101 will be parsed as Jan. 1st, 2005</span>
<span class="no">start2005</span> <span class="kw">&lt;-</span> <span class="kw pkg">MazamaCoreUtils</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/MazamaCoreUtils/man/parseDatetime.html">parseDatetime</a></span>(<span class="fl">20050101</span>, <span class="kw">timezone</span> <span class="kw">=</span> <span class="st">"UTC"</span>)
<span class="co"># 20060101 will be parsed as Jan 1st. 2006</span>
<span class="no">end2005</span> <span class="kw">&lt;-</span> <span class="kw pkg">MazamaCoreUtils</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/MazamaCoreUtils/man/parseDatetime.html">parseDatetime</a></span>(<span class="fl">20060101</span>, <span class="kw">timezone</span> <span class="kw">=</span> <span class="st">"UTC"</span>)

<span class="co"># 20050801 will be parsed as Aug. 1st, 2005</span>
<span class="no">startAug2005</span> <span class="kw">&lt;-</span> <span class="kw pkg">MazamaCoreUtils</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/MazamaCoreUtils/man/parseDatetime.html">parseDatetime</a></span>(<span class="fl">20050801</span>, <span class="kw">timezone</span> <span class="kw">=</span> <span class="st">"UTC"</span>)
<span class="co"># 20050901 will be parsed as Sep. 1st, 2005</span>
<span class="no">endAug2005</span> <span class="kw">&lt;-</span> <span class="kw pkg">MazamaCoreUtils</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/MazamaCoreUtils/man/parseDatetime.html">parseDatetime</a></span>(<span class="fl">20050901</span>, <span class="kw">timezone</span> <span class="kw">=</span> <span class="st">"UTC"</span>)

<span class="co"># Get all observations between these dates</span>
<span class="no">enumclaw2005</span> <span class="kw">&lt;-</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="no">enumclawTSObj</span>$<span class="no">data</span>, <span class="no">date</span> <span class="kw">&gt;=</span> <span class="no">start2005</span> <span class="kw">&amp;</span> <span class="no">date</span> <span class="kw">&lt;</span> <span class="no">end2005</span>)
<span class="no">enumclawAug2005</span> <span class="kw">&lt;-</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="no">enumclawTSObj</span>$<span class="no">data</span>, <span class="no">date</span> <span class="kw">&gt;=</span> <span class="no">startAug2005</span> <span class="kw">&amp;</span> <span class="no">date</span> <span class="kw">&lt;</span> <span class="no">endAug2005</span>)</pre></body></html></div>
<p>After renaming the datetime column and filtering by dates of interest, we are now ready to create visualizations using <strong>openair.</strong></p>
</div>
<div id="using-openair" class="section level2">
<h2 class="hasAnchor">
<a href="#using-openair" class="anchor"></a>Using openair</h2>
<p>The RAWS timeseries object contains data for temperature, humidity, wind speed, wind direction, max gust speed, max gust direction, precipitation, and solar radiation. We can utilize various <strong>openair</strong> plots to gain useful information from each of these columns.</p>
<div id="wind-rose-plots" class="section level3">
<h3 class="hasAnchor">
<a href="#wind-rose-plots" class="anchor"></a>Wind rose plots</h3>
<p>Let us first create some wind rose plots. <strong>Openair</strong>’s <code><a href="https://rdrr.io/pkg/openair/man/windRose.html">windRose()</a></code> function requires 3 arguments: the data to create the plot for, and the names of the wind speed and wind direction columns. By default <code><a href="https://rdrr.io/pkg/openair/man/windRose.html">windRose()</a></code> looks for columns named <code>ws</code> and <code>wd</code> for wind speed and direction respectively so it is important to specify these names when calling the function. Again, <strong>openair</strong> requires that dates and times of observations are stored in a column named <code>date</code>.</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">openair</span>)

<span class="kw pkg">openair</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/openair/man/windRose.html">windRose</a></span>(<span class="no">enumclawAug2005</span>, <span class="kw">ws</span> <span class="kw">=</span> <span class="st">"windSpeed"</span>, <span class="kw">wd</span> <span class="kw">=</span> <span class="st">"windDirection"</span>,
                  <span class="kw">main</span> <span class="kw">=</span> <span class="st">"Wind speed and direction in Enumclaw, August 2005"</span>,
                  <span class="kw">key.footer</span> <span class="kw">=</span> <span class="st">"(mph)"</span>)</pre></body></html></div>
<p><img src="Working_with_openair_files/figure-html/windRose-1.png" width="700"></p>
<p><code><a href="https://rdrr.io/pkg/openair/man/windRose.html">windRose()</a></code> can also group data and plot it by different periods. Lets look at the wind speed and directions by season in Enumclaw:</p>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="kw pkg">openair</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/openair/man/windRose.html">windRose</a></span>(<span class="no">enumclaw2005</span>, <span class="kw">ws</span> <span class="kw">=</span> <span class="st">"windSpeed"</span>, <span class="kw">wd</span> <span class="kw">=</span> <span class="st">"windDirection"</span>,
                  <span class="kw">main</span> <span class="kw">=</span> <span class="st">"Wind speed and direction in Enumclaw, 2005"</span>,
                  <span class="kw">type</span> <span class="kw">=</span> <span class="st">"season"</span>, <span class="kw">key.footer</span> <span class="kw">=</span> <span class="st">"(mph)"</span>)</pre></body></html></div>
<p><img src="Working_with_openair_files/figure-html/windRose_seasons-1.png" width="700"></p>
</div>
<div id="time-series-plotting" class="section level3">
<h3 class="hasAnchor">
<a href="#time-series-plotting" class="anchor"></a>Time-series plotting</h3>
<p><strong>Openair</strong> can also be used to create time-series plots and trends. Lets first take a look at the function <code><a href="https://rdrr.io/pkg/openair/man/timePlot.html">timePlot()</a></code>. This function requires 2 arguments: the data to create the plot for, and <code>pollutant</code>, the name of the column to plot with respect to time. Again, <code><a href="https://rdrr.io/pkg/openair/man/timePlot.html">timePlot()</a></code> requires that dates and times of observations are stored in a column named <code>date</code>.</p>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="kw pkg">openair</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/openair/man/timePlot.html">timePlot</a></span>(<span class="no">enumclawAug2005</span>, <span class="kw">pollutant</span> <span class="kw">=</span> <span class="st">"temperature"</span>,
                  <span class="kw">main</span> <span class="kw">=</span> <span class="st">"Temperature in Enumclaw, August 2005"</span>, <span class="kw">key</span> <span class="kw">=</span> <span class="no">F</span>,
                  <span class="kw">ylab</span> <span class="kw">=</span> <span class="st">"temperature (°F)"</span>, <span class="kw">xlab</span> <span class="kw">=</span> <span class="st">"time"</span>)</pre></body></html></div>
<p><img src="Working_with_openair_files/figure-html/temp_timePlot-1.png" width="700"></p>
<p><code><a href="https://rdrr.io/pkg/openair/man/timePlot.html">timePlot()</a></code> can also plot multiple columns so they can be compared against each other. Lets compare temperature and humidity in Enumclaw in August 2005:</p>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="kw pkg">openair</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/openair/man/timePlot.html">timePlot</a></span>(<span class="no">enumclawAug2005</span>, <span class="kw">pollutant</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"temperature"</span>, <span class="st">"humidity"</span>),
                  <span class="kw">main</span> <span class="kw">=</span> <span class="st">"Temperature and Humidity in Enumclaw, August 2005"</span>, <span class="kw">key</span> <span class="kw">=</span> <span class="no">T</span>,
                  <span class="kw">name.pol</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"temperature (°F)"</span>, <span class="st">"humidity (%)"</span>), <span class="kw">ylab</span> <span class="kw">=</span> <span class="st">""</span>)</pre></body></html></div>
<p><img src="Working_with_openair_files/figure-html/temp_humid_timePlot-1.png" width="700"></p>
<p>Plotting trends in data is also very easy using <strong>openair.</strong> The <code><a href="https://rdrr.io/pkg/openair/man/smoothTrend.html">smoothTrend()</a></code> function plots monthly averages against the trend in the variable of interest. Lets look at the trend of solar radiation in Enumclaw in 2005:</p>
<div class="sourceCode" id="cb20"><html><body><pre class="r"><span class="kw pkg">openair</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/openair/man/smoothTrend.html">smoothTrend</a></span>(<span class="no">enumclaw2005</span>, <span class="kw">pollutant</span> <span class="kw">=</span> <span class="st">"solarRadiation"</span>,
                     <span class="kw">main</span> <span class="kw">=</span> <span class="st">"Solar Radiation trend in Enumclaw, 2005"</span>, <span class="kw">statistic</span> <span class="kw">=</span> <span class="st">"mean"</span>,
                     <span class="kw">ylab</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html">expression</a></span>(<span class="st">'solar radiation (W/m'</span>^<span class="fl">2</span>*<span class="st">')'</span>), <span class="kw">xlab</span> <span class="kw">=</span> <span class="st">"time"</span>)</pre></body></html></div>
<p><img src="Working_with_openair_files/figure-html/smoothTrend_months-1.png" width="700"></p>
<p>Instead of comparing monthly averages to the trend of the data, <strong>openair</strong> can also compare different averages.</p>
<div class="sourceCode" id="cb21"><html><body><pre class="r"><span class="kw pkg">openair</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/openair/man/smoothTrend.html">smoothTrend</a></span>(<span class="no">enumclawTSObj</span>$<span class="no">data</span>, <span class="kw">pollutant</span> <span class="kw">=</span> <span class="st">"solarRadiation"</span>,
                     <span class="kw">main</span> <span class="kw">=</span> <span class="st">"Solar Radiation trend in Enumclaw"</span>, <span class="kw">statistic</span> <span class="kw">=</span> <span class="st">"mean"</span>,
                     <span class="kw">ylab</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html">expression</a></span>(<span class="st">'solar radiation (W/m'</span>^<span class="fl">2</span>*<span class="st">')'</span>), <span class="kw">xlab</span> <span class="kw">=</span> <span class="st">"time"</span>, <span class="kw">avg.time</span> <span class="kw">=</span> <span class="st">"year"</span>)</pre></body></html></div>
<p><img src="Working_with_openair_files/figure-html/smoothTrend_years-1.png" width="700"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jonathan Callahan, Eli Grosman.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
